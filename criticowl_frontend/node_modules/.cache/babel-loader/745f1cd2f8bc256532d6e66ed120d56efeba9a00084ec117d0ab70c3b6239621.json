{"ast":null,"code":"//     wink-nlp\n//\n//     Copyright (C) GRAYPE Systems Private Limited\n//\n//     This file is part of “wink-nlp”.\n//\n//     Permission is hereby granted, free of charge, to any\n//     person obtaining a copy of this software and\n//     associated documentation files (the \"Software\"), to\n//     deal in the Software without restriction, including\n//     without limitation the rights to use, copy, modify,\n//     merge, publish, distribute, sublicense, and/or sell\n//     copies of the Software, and to permit persons to\n//     whom the Software is furnished to do so, subject to\n//     the following conditions:\n//\n//     The above copyright notice and this permission notice\n//     shall be included in all copies or substantial\n//     portions of the Software.\n//\n//     THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF\n//     ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED\n//     TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\n//     PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL\n//     THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n//     DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF\n//     CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN\n//     CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\n//     DEALINGS IN THE SOFTWARE.\n\n//\n\nvar its = require('../its.js');\nvar as = require('../as.js');\nvar allowed = require('../allowed.js');\nvar reconstructSpaces = require('../reconstruct-spaces.js');\nvar constants = require('../constants.js');\n// Size of a single token.\nvar tkSize = constants.tkSize;\n// Mask for preceding spaces.\nvar psMask = constants.psMask;\n\n// ## selTokensOut\n/**\n * Out for selection of tokens. Note: the out always returns a Javascript\n * data type or data structure.\n * @param  {number[]} selTokens   Array containing indexes to the selected tokens.\n * @param  {obejct}   rdd         Raw document data structure.\n * @param  {function} itsf        Desired `its` mapper.\n * @param  {function} asf         Desired `as` reducer.\n * @param  {object}   addons      The addons from the model.\n * @return {*}                    Reduced value.\n * @private\n */\nvar selTokensOut = function (selTokens, rdd, itsf, asf, addons) {\n  // Not a vector request, perform map-reduce.\n  var mappedTkns = [];\n  var itsfn = itsf && allowed.its4selTokens.has(itsf) ? itsf : its.value;\n  var asfn = asf && allowed.as4selTokens.has(asf) ? asf : as.array;\n  if (itsfn !== its.value && itsfn !== its.normal && itsfn !== its.lemma && asfn === as.vector) {\n    throw Error('winkNLP: as.vector is allowed only with its value or normal or lemma.');\n  }\n\n  // Note, `as.text` needs special attention to include preceeding spaces.\n  // No `markedUpText` allowed here.\n  if (asfn === as.text) {\n    for (let i = 0; i < selTokens.length; i += 1) {\n      mappedTkns.push(reconstructSpaces(selTokens[i], rdd), itsf(selTokens[i], rdd, addons));\n    }\n  } else {\n    for (let i = 0; i < selTokens.length; i += 1) {\n      mappedTkns.push(itsfn(selTokens[i], rdd, addons));\n    }\n  }\n  return asfn(mappedTkns, rdd);\n}; // selTokensOut()\n\nmodule.exports = selTokensOut;","map":{"version":3,"names":["its","require","as","allowed","reconstructSpaces","constants","tkSize","psMask","selTokensOut","selTokens","rdd","itsf","asf","addons","mappedTkns","itsfn","its4selTokens","has","value","asfn","as4selTokens","array","normal","lemma","vector","Error","text","i","length","push","module","exports"],"sources":["C:/Users/cheko/Desktop/Education/Freelance/criticowl-main/criticowl_frontend/node_modules/wink-nlp/src/api/sel-tokens-out.js"],"sourcesContent":["//     wink-nlp\n//\n//     Copyright (C) GRAYPE Systems Private Limited\n//\n//     This file is part of “wink-nlp”.\n//\n//     Permission is hereby granted, free of charge, to any\n//     person obtaining a copy of this software and\n//     associated documentation files (the \"Software\"), to\n//     deal in the Software without restriction, including\n//     without limitation the rights to use, copy, modify,\n//     merge, publish, distribute, sublicense, and/or sell\n//     copies of the Software, and to permit persons to\n//     whom the Software is furnished to do so, subject to\n//     the following conditions:\n//\n//     The above copyright notice and this permission notice\n//     shall be included in all copies or substantial\n//     portions of the Software.\n//\n//     THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF\n//     ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED\n//     TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\n//     PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL\n//     THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n//     DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF\n//     CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN\n//     CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\n//     DEALINGS IN THE SOFTWARE.\n\n//\n\nvar its = require( '../its.js' );\nvar as = require( '../as.js' );\nvar allowed = require( '../allowed.js' );\nvar reconstructSpaces = require( '../reconstruct-spaces.js' );\nvar constants = require( '../constants.js' );\n// Size of a single token.\nvar tkSize = constants.tkSize;\n// Mask for preceding spaces.\nvar psMask = constants.psMask;\n\n// ## selTokensOut\n/**\n * Out for selection of tokens. Note: the out always returns a Javascript\n * data type or data structure.\n * @param  {number[]} selTokens   Array containing indexes to the selected tokens.\n * @param  {obejct}   rdd         Raw document data structure.\n * @param  {function} itsf        Desired `its` mapper.\n * @param  {function} asf         Desired `as` reducer.\n * @param  {object}   addons      The addons from the model.\n * @return {*}                    Reduced value.\n * @private\n */\nvar selTokensOut = function ( selTokens, rdd, itsf, asf, addons ) {\n  // Not a vector request, perform map-reduce.\n  var mappedTkns = [];\n  var itsfn = ( itsf && allowed.its4selTokens.has( itsf ) ) ? itsf : its.value;\n  var asfn = ( asf && allowed.as4selTokens.has( asf ) ) ? asf : as.array;\n\n  if ( itsfn !== its.value && itsfn !== its.normal && itsfn !== its.lemma && asfn === as.vector ) {\n    throw Error( 'winkNLP: as.vector is allowed only with its value or normal or lemma.' );\n  }\n\n  // Note, `as.text` needs special attention to include preceeding spaces.\n  // No `markedUpText` allowed here.\n  if ( asfn === as.text ) {\n    for ( let i = 0; i < selTokens.length; i += 1 ) {\n      mappedTkns.push( reconstructSpaces( selTokens[ i ], rdd ), itsf( selTokens[ i ], rdd, addons ) );\n    }\n  } else {\n    for ( let i = 0; i < selTokens.length; i += 1 ) {\n      mappedTkns.push( itsfn( selTokens[ i ], rdd, addons ) );\n    }\n  }\n\n  return asfn( mappedTkns, rdd );\n}; // selTokensOut()\n\nmodule.exports = selTokensOut;\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,IAAIA,GAAG,GAAGC,OAAO,CAAE,WAAY,CAAC;AAChC,IAAIC,EAAE,GAAGD,OAAO,CAAE,UAAW,CAAC;AAC9B,IAAIE,OAAO,GAAGF,OAAO,CAAE,eAAgB,CAAC;AACxC,IAAIG,iBAAiB,GAAGH,OAAO,CAAE,0BAA2B,CAAC;AAC7D,IAAII,SAAS,GAAGJ,OAAO,CAAE,iBAAkB,CAAC;AAC5C;AACA,IAAIK,MAAM,GAAGD,SAAS,CAACC,MAAM;AAC7B;AACA,IAAIC,MAAM,GAAGF,SAAS,CAACE,MAAM;;AAE7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAIC,YAAY,GAAG,SAAAA,CAAWC,SAAS,EAAEC,GAAG,EAAEC,IAAI,EAAEC,GAAG,EAAEC,MAAM,EAAG;EAChE;EACA,IAAIC,UAAU,GAAG,EAAE;EACnB,IAAIC,KAAK,GAAKJ,IAAI,IAAIR,OAAO,CAACa,aAAa,CAACC,GAAG,CAAEN,IAAK,CAAC,GAAKA,IAAI,GAAGX,GAAG,CAACkB,KAAK;EAC5E,IAAIC,IAAI,GAAKP,GAAG,IAAIT,OAAO,CAACiB,YAAY,CAACH,GAAG,CAAEL,GAAI,CAAC,GAAKA,GAAG,GAAGV,EAAE,CAACmB,KAAK;EAEtE,IAAKN,KAAK,KAAKf,GAAG,CAACkB,KAAK,IAAIH,KAAK,KAAKf,GAAG,CAACsB,MAAM,IAAIP,KAAK,KAAKf,GAAG,CAACuB,KAAK,IAAIJ,IAAI,KAAKjB,EAAE,CAACsB,MAAM,EAAG;IAC9F,MAAMC,KAAK,CAAE,uEAAwE,CAAC;EACxF;;EAEA;EACA;EACA,IAAKN,IAAI,KAAKjB,EAAE,CAACwB,IAAI,EAAG;IACtB,KAAM,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGlB,SAAS,CAACmB,MAAM,EAAED,CAAC,IAAI,CAAC,EAAG;MAC9Cb,UAAU,CAACe,IAAI,CAAEzB,iBAAiB,CAAEK,SAAS,CAAEkB,CAAC,CAAE,EAAEjB,GAAI,CAAC,EAAEC,IAAI,CAAEF,SAAS,CAAEkB,CAAC,CAAE,EAAEjB,GAAG,EAAEG,MAAO,CAAE,CAAC;IAClG;EACF,CAAC,MAAM;IACL,KAAM,IAAIc,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGlB,SAAS,CAACmB,MAAM,EAAED,CAAC,IAAI,CAAC,EAAG;MAC9Cb,UAAU,CAACe,IAAI,CAAEd,KAAK,CAAEN,SAAS,CAAEkB,CAAC,CAAE,EAAEjB,GAAG,EAAEG,MAAO,CAAE,CAAC;IACzD;EACF;EAEA,OAAOM,IAAI,CAAEL,UAAU,EAAEJ,GAAI,CAAC;AAChC,CAAC,CAAC,CAAC;;AAEHoB,MAAM,CAACC,OAAO,GAAGvB,YAAY","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}