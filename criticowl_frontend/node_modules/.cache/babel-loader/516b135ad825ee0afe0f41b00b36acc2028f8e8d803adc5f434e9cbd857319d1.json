{"ast":null,"code":"//     wink-nlp\n//\n//     Copyright (C) GRAYPE Systems Private Limited\n//\n//     This file is part of “wink-nlp”.\n//\n//     Permission is hereby granted, free of charge, to any\n//     person obtaining a copy of this software and\n//     associated documentation files (the \"Software\"), to\n//     deal in the Software without restriction, including\n//     without limitation the rights to use, copy, modify,\n//     merge, publish, distribute, sublicense, and/or sell\n//     copies of the Software, and to permit persons to\n//     whom the Software is furnished to do so, subject to\n//     the following conditions:\n//\n//     The above copyright notice and this permission notice\n//     shall be included in all copies or substantial\n//     portions of the Software.\n//\n//     THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF\n//     ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED\n//     TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\n//     PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL\n//     THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n//     DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF\n//     CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN\n//     CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\n//     DEALINGS IN THE SOFTWARE.\n\n//\n\nvar its = require('../its.js');\nvar as = require('../as.js');\nvar allowed = require('../allowed.js');\nvar reconstructSpaces = require('../reconstruct-spaces.js');\n\n// ## colTokensOut\n/**\n * Out for collection of tokens. Note: the out always returns a Javascript\n * data type or data structure.\n * @param  {number}   start       The start index of the collection.\n * @param  {number}   end         The end index of the collection.\n * @param  {object}   rdd         Raw Document Data-structure.\n * @param  {function} itsf        Desired `its` mapper.\n * @param  {function} asf         Desired `as` reducer.\n * @param  {object}   addons      The model's addons.\n * @return {*}                    Map-reduced collection of tokens.\n * @private\n */\nvar colTokensOut = function (start, end, rdd, itsf, asf, addons) {\n  // Not a vector request, perform map-reduce.\n  var mappedTkns = [];\n  var itsfn = itsf && allowed.its4tokens.has(itsf) ? itsf : its.value;\n  var asfn = asf && allowed.as4tokens.has(asf) ? asf : as.array;\n  if (itsfn !== its.value && itsfn !== its.normal && itsfn !== its.lemma && asfn === as.vector) {\n    throw Error('winkNLP: as.vector is allowed only with its value or normal or lemma.');\n  }\n\n  // Note, `as.text/markedUpText` needs special attention to include preceeding spaces.\n  if (asfn === as.text || asfn === as.markedUpText) {\n    for (let i = start; i <= end; i += 1) {\n      mappedTkns.push(reconstructSpaces(i, rdd), itsf(i, rdd, addons));\n    }\n  } else {\n    for (let i = start; i <= end; i += 1) {\n      mappedTkns.push(itsfn(i, rdd, addons));\n    }\n  }\n  return asfn(mappedTkns, rdd, start, end);\n}; // colTokensOut()\n\nmodule.exports = colTokensOut;","map":{"version":3,"names":["its","require","as","allowed","reconstructSpaces","colTokensOut","start","end","rdd","itsf","asf","addons","mappedTkns","itsfn","its4tokens","has","value","asfn","as4tokens","array","normal","lemma","vector","Error","text","markedUpText","i","push","module","exports"],"sources":["C:/Users/cheko/Desktop/Education/Freelance/criticowl-main/criticowl_frontend/node_modules/wink-nlp/src/api/col-tokens-out.js"],"sourcesContent":["//     wink-nlp\n//\n//     Copyright (C) GRAYPE Systems Private Limited\n//\n//     This file is part of “wink-nlp”.\n//\n//     Permission is hereby granted, free of charge, to any\n//     person obtaining a copy of this software and\n//     associated documentation files (the \"Software\"), to\n//     deal in the Software without restriction, including\n//     without limitation the rights to use, copy, modify,\n//     merge, publish, distribute, sublicense, and/or sell\n//     copies of the Software, and to permit persons to\n//     whom the Software is furnished to do so, subject to\n//     the following conditions:\n//\n//     The above copyright notice and this permission notice\n//     shall be included in all copies or substantial\n//     portions of the Software.\n//\n//     THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF\n//     ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED\n//     TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\n//     PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL\n//     THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n//     DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF\n//     CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN\n//     CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\n//     DEALINGS IN THE SOFTWARE.\n\n//\n\nvar its = require( '../its.js' );\nvar as = require( '../as.js' );\nvar allowed = require( '../allowed.js' );\nvar reconstructSpaces = require( '../reconstruct-spaces.js' );\n\n// ## colTokensOut\n/**\n * Out for collection of tokens. Note: the out always returns a Javascript\n * data type or data structure.\n * @param  {number}   start       The start index of the collection.\n * @param  {number}   end         The end index of the collection.\n * @param  {object}   rdd         Raw Document Data-structure.\n * @param  {function} itsf        Desired `its` mapper.\n * @param  {function} asf         Desired `as` reducer.\n * @param  {object}   addons      The model's addons.\n * @return {*}                    Map-reduced collection of tokens.\n * @private\n */\nvar colTokensOut = function ( start, end, rdd, itsf, asf, addons ) {\n  // Not a vector request, perform map-reduce.\n  var mappedTkns = [];\n  var itsfn = ( itsf && allowed.its4tokens.has( itsf ) ) ? itsf : its.value;\n  var asfn = ( asf && allowed.as4tokens.has( asf ) ) ? asf : as.array;\n\n  if ( itsfn !== its.value && itsfn !== its.normal && itsfn !== its.lemma && asfn === as.vector ) {\n    throw Error( 'winkNLP: as.vector is allowed only with its value or normal or lemma.' );\n  }\n\n  // Note, `as.text/markedUpText` needs special attention to include preceeding spaces.\n  if ( asfn === as.text || asfn === as.markedUpText ) {\n    for ( let i = start; i <= end; i += 1 ) {\n      mappedTkns.push( reconstructSpaces( i, rdd ), itsf( i, rdd, addons ) );\n    }\n  } else {\n    for ( let i = start; i <= end; i += 1 ) {\n      mappedTkns.push( itsfn( i, rdd, addons ) );\n    }\n  }\n\n  return asfn( mappedTkns, rdd, start, end );\n}; // colTokensOut()\n\nmodule.exports = colTokensOut;\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,IAAIA,GAAG,GAAGC,OAAO,CAAE,WAAY,CAAC;AAChC,IAAIC,EAAE,GAAGD,OAAO,CAAE,UAAW,CAAC;AAC9B,IAAIE,OAAO,GAAGF,OAAO,CAAE,eAAgB,CAAC;AACxC,IAAIG,iBAAiB,GAAGH,OAAO,CAAE,0BAA2B,CAAC;;AAE7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAII,YAAY,GAAG,SAAAA,CAAWC,KAAK,EAAEC,GAAG,EAAEC,GAAG,EAAEC,IAAI,EAAEC,GAAG,EAAEC,MAAM,EAAG;EACjE;EACA,IAAIC,UAAU,GAAG,EAAE;EACnB,IAAIC,KAAK,GAAKJ,IAAI,IAAIN,OAAO,CAACW,UAAU,CAACC,GAAG,CAAEN,IAAK,CAAC,GAAKA,IAAI,GAAGT,GAAG,CAACgB,KAAK;EACzE,IAAIC,IAAI,GAAKP,GAAG,IAAIP,OAAO,CAACe,SAAS,CAACH,GAAG,CAAEL,GAAI,CAAC,GAAKA,GAAG,GAAGR,EAAE,CAACiB,KAAK;EAEnE,IAAKN,KAAK,KAAKb,GAAG,CAACgB,KAAK,IAAIH,KAAK,KAAKb,GAAG,CAACoB,MAAM,IAAIP,KAAK,KAAKb,GAAG,CAACqB,KAAK,IAAIJ,IAAI,KAAKf,EAAE,CAACoB,MAAM,EAAG;IAC9F,MAAMC,KAAK,CAAE,uEAAwE,CAAC;EACxF;;EAEA;EACA,IAAKN,IAAI,KAAKf,EAAE,CAACsB,IAAI,IAAIP,IAAI,KAAKf,EAAE,CAACuB,YAAY,EAAG;IAClD,KAAM,IAAIC,CAAC,GAAGpB,KAAK,EAAEoB,CAAC,IAAInB,GAAG,EAAEmB,CAAC,IAAI,CAAC,EAAG;MACtCd,UAAU,CAACe,IAAI,CAAEvB,iBAAiB,CAAEsB,CAAC,EAAElB,GAAI,CAAC,EAAEC,IAAI,CAAEiB,CAAC,EAAElB,GAAG,EAAEG,MAAO,CAAE,CAAC;IACxE;EACF,CAAC,MAAM;IACL,KAAM,IAAIe,CAAC,GAAGpB,KAAK,EAAEoB,CAAC,IAAInB,GAAG,EAAEmB,CAAC,IAAI,CAAC,EAAG;MACtCd,UAAU,CAACe,IAAI,CAAEd,KAAK,CAAEa,CAAC,EAAElB,GAAG,EAAEG,MAAO,CAAE,CAAC;IAC5C;EACF;EAEA,OAAOM,IAAI,CAAEL,UAAU,EAAEJ,GAAG,EAAEF,KAAK,EAAEC,GAAI,CAAC;AAC5C,CAAC,CAAC,CAAC;;AAEHqB,MAAM,CAACC,OAAO,GAAGxB,YAAY","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}